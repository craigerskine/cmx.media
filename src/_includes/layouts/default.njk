<!doctype html>
<html lang="en" class="bg-white antialiased" x-data="{}" hidden x-clock>

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>{%- if title -%}{{ title +' : ' }}{%- endif -%} {{ site.meta.title +' : '+ site.meta.sub }}</title>
    <meta name="description" content="{{ site.meta.description }}" />
    <meta name="author" content="{{ site.meta.author + ' - '+ site.meta.author_url }}" />
    <meta name="generator" content="{{ eleventy.generator }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- <link rel="icon" type="image/x-icon" href="/favicon.ico" /> -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cabin+Sketch&display=swap" />

    <meta property="og:title" content="{{ site.meta.title }}" />
    <meta property="og:description" content="{{ site.meta.description }}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://comx.media{{ page.url }}" />
    <!-- <meta property="og:image" content="https://comx.media/_assets/img/og.png" /> -->

    {% import 'components/logo.njk' as logo %}
    {% import 'components/sep.njk' as sep %}

  </head>

  <body class="text-pri-700 font-comic">

    <div class="min-h-screen)">
      <header class="bg-pri-50 flex(& col) lg:(w-112 flex-row items-start overflow-y-auto fixed inset-y-0 left-0) xl:(w-120)">
        <div class="py-3 text(pri-500 xs center) flex(& wrap) items-center justify-center gap-4 order-last lg:(py-12 w-16 text-base whitespace-nowrap flex-none order-none sticky top-0 writing-vertical-rl)">
          <span>by</span>
          <a href="https://qrayg.com/" class="text-pri-900">{{ site.meta.author }}</a>
          <span>1992 - {% year %}</span>
        </div>
        <div class="p-4 flex relative z-10 sm:(px-6) md:(px-4) lg:(mx-auto py-12 px-8 border(x pri-200) min-h-full block flex-auto) xl:(px-12)">
          <a href="/" class="w-12 flex lg:(mx-auto w-full max-w-[10rem])">{{ logo.x() }}</a>
          <nav class="ml-auto flex items-center justify-center lg:(ml-0 pt-16)">
            <ul class="text-sm uppercase flex gap-2 lg:(text-base flex-col)">
              {%- for item in collections.all | eleventyNavigation %}
                <li class="relative">
                  <a href="{{ item.url }}" class="motion-safe:(transition) hover:(text-sec-900) {% if item.url == page.url or item.url in page.url %} active text-pri-800 font-bold{% else %} text-pri-500{% endif %}">
                    {{ item.key }}
                    {% if item.url == page.url or item.url in page.url %}<b class="h-[2px] bg-current absolute inset-x-0 -bottom-[2px]"></b>{% endif %}
                  </a>
                </li>
              {%- endfor %}
            </ul>
          </nav>
        </div>
      </header>
      <main class="py-12 border(t pri-200) lg:(ml-112 border-t-0 relative) xl:(ml-120)">
        <section class="w-full flex">{{ content | safe }}</section>
      </main>
    </div>

    <script defer src="/_assets/js/alpine.js?v={% version %}"></script>
    <script src="/_assets/js/twind.js?v={% version %}"></script>
    <script src="https://kit.fontawesome.com/a2bf4ed495.js"></script>
    <script>
      twind.setup({
        mode: "silent",
        theme: {
          extend: {
            colors: {
              pri: twindColors.warmGray,
              sec: twindColors.coolGray,
            },
            spacing: {
              18: '4.5rem',
              112: '28rem',
              120: '30rem',
            },
            fontFamily: (theme) => ({
              comic: 'Cabin Sketch,' + theme('fontFamily.sans'),
            }),
          },
        },
        plugins: {
          'scroll-smooth': { 'scroll-behavior': 'smooth' },
          'writing-vertical-rl': { 'writing-mode': 'vertical-rl' },
        },
      })
      twind.tw(() => ({
        '@global': {
          '[x-cloak]': { '@apply': 'hidden', },
          '.label': { '@apply': 'border(b-2 pri-300)' },
          '.label:before': { '@apply': 'mr-2 pb-1 text([11px] pri-400) tracking-normal leading-none font(sans semibold) uppercase', 'content': 'attr(data-label)' },
        }
      }))
      twindObserve.observe(document.documentElement);
      document.documentElement.removeAttribute('hidden');
    </script>

  </body>

</html>