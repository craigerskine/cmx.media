<!doctype html>
<html lang="en" class="bg-pri-800 antialiased" x-data hidden>

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>{%- if title -%}{{ title +' : ' }}{%- endif -%} {{ site.meta.title +' : '+ site.meta.sub }}</title>
    <meta name="description" content="{{ site.meta.description }}" />
    <meta name="author" content="{{ site.meta.author + ' - '+ site.meta.author_url }}" />
    <meta name="generator" content="{{ eleventy.generator }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <meta property="og:title" content="{{ site.meta.title }}" />
    <meta property="og:description" content="{{ site.meta.description }}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://comx.media{{ page.url }}" />
    <meta property="og:image" content="https://comx.media/apple-touch-icon.png" />
  </head>

  <body class="text-pri-400">
    <div class="min-h-screen flex(& col) relative">
      <header class="w-full flex-none relative z-20{%- if page.url === '/' %} bg-gradient-to-b from-pri-800{%- endif %}">
        <div class="p-6 flex items-center">
          <a href="/" class="group font-semibold flex items-center gap-3 motion-safe:(transition) hover:(text-blue-300)">
            <b class="px-1 py-px bg-white text-pri-800 font-bold motion-safe:(transition) group-hover:(bg-blue-300)">{{ site.meta.title_short }}</b>
            <i class="not-italic uppercase">{{ site.meta.title }}</i>
          </a>
          <nav class="ml-auto" x-data="{menu: false}">
            <ul>
              <li class="relative z-20">
                <a href="#" class="motion-safe:(transition) hover:(text-blue-300)" :class="{'text-blue-300': menu}" @click.prevent="menu = !menu"
                  :aria-expanded="menu"
                  aria-controls="nav-menu"
                >
                  <i x-show="!menu" class="fa-light fa-fw fa-bars" x-cloak><b class="sr-only">Open menu</b></i>
                  <b x-show="menu" class="fixed top-6 right-6" x-cloak><i class="fa-light fa-fw fa-times"><b class="sr-only">Close menu</b></i></b>
                </a>
              </li>
              <li class="relative z-10">
                <ul x-show="menu" @click.outside="menu = false" class="py-12 w-1/2 bg(pri-900 gradient-to-r) from-gray-800 text-lg font-black fixed inset-y-0 right-0 shadow-2xl transform md:(w-full max-w-sm text-2xl)"
                  id="nav-menu"
                  x-transition:enter="transition ease-out"
                  x-transition:enter-start="opacity-0 translate-x-4"
                  x-transition:enter-end="opacity-100 translate-y-0"
                  x-transition:leave="transition ease-in"
                  x-transition:leave-start="opacity-100 translate-y-0"
                  x-transition:leave-end="opacity-0 translate-x-4"
                  x-cloak
                >
                  {%- for item in collections.all | eleventyNavigation %}
                  <li class="py-2 md:(py-4)">
                    <a href="{{ item.url }}" class="group py-1 px-6 flex items-center gap-4 relative motion-safe:(transition) hover:(text-pri-100) {% if item.url == page.url or item.url in page.url %} active text-sec-400 font-bold{% else %} text-pri-400{% endif %}"
                      {%- if item.url == page.url or item.url in page.url %} aria-current="page"{%- endif %}
                    >
                      <b class="text(pri-500 opacity-50)"><i class="fa-solid fa-fw fa-{{ item.ico }}"></i></b>
                      <div>
                        {{ item.key }}
                        <small class="text(xs sec-700) font-semibold block md:(text-sm)">{{ item.title }}</small>
                      </div>
                      {%- if item.url == page.url or item.url in page.url %}<b class="w-[2px] bg-current absolute inset-y-0 left-0"></b>{%- endif %}
                    </a>
                  </li>
                  {%- endfor %}
                </ul>
              </li>
            </ul>
          </nav>
        </div>
      </header>
      <main class="w-full flex(& 1) relative z-10">
        <section class="w-full flex">
          {{ content | safe }}
        </section>
      </main>
      <footer class="p-6 text(sm center pri-500) font-semibold w-full flex-none relative z-10{%- if page.url === '/' %} bg-gradient-to-t from-pri-800{%- endif %}">
        Collected by <a href="https://{{ site.meta.author_url }}/" class="text-pri-400 motion-safe:(transition) hover:(text-sec-400)">{{ site.meta.author }}</a> : 1992 - {% year %}
      </footer>
    </div>

    <div class="bg-grid fixed inset-0"></div>
    <div class="w-full h-[50vh] bg-gradient-to-b from-gray-900 fixed top-0 inset-x-0 md:(via-transparent)" aria-hidden="true"></div>
    <div class="w-full h-[50vh] bg-gradient-to-t from-gray-900 fixed bottom-0 inset-x-0 md:(via-transparent)" aria-hidden="true"></div>

    <script defer src="/_assets/js/alpine.js?v={% version %}"></script>
    <script src="/_assets/js/twind.js?v={% version %}"></script>
    <script src="https://kit.fontawesome.com/a2bf4ed495.js"></script>
    <script>
      var pri = twindColors.coolGray;
      var sec = twindColors.sky;
      twind.setup({
        mode: "silent",
        theme: {
          extend: {
            colors: {
              pri: pri,
              sec: sec,
            },
            fontFamily: (theme) => ({
              sans: 'Outfit,' + theme('fontFamily.sans'),
              //comic: 'Cabin Sketch,' + theme('fontFamily.sans'),
            }),
          },
        },
        plugins: {
          'scroll-smooth': { 'scroll-behavior': 'smooth' },
          'writing-vertical-rl': { 'writing-mode': 'vertical-rl' },
          'bg-grid': { 'background-image': 'url("data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 4 4\' width=\'4\' height=\'4\'><rect x=\'0\' y=\'0\' width=\'2\' height=\'2\' fill=\'rgba(5,5,5,.33)\'></rect></svg>")', },
        },
      })
      twind.tw(() => ({
        '@global': {
          '[x-cloak]': { '@apply': 'hidden', },
          '.label': { '@apply': 'pb-1 border(b-2 current)' },
          '.label:before': { '@apply': 'mr-2 pb-1 text([11px] current) tracking-normal leading-none font-bold uppercase', 'content': 'attr(data-label)' },
        }
      }))
      twindObserve.observe(document.documentElement);
      document.documentElement.removeAttribute('hidden');
    </script>

  </body>

</html>